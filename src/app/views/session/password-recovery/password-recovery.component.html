<app-account-manager
  [options]="options"
  primary_text="Defina uma nova senha!"
>
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="password_recovery">
    <mat-form-field appearance="outline">
      <mat-label>Senha</mat-label>
      <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" placeholder="Digite sua senha" />
      <button mat-icon-button matSuffix type="button" (click)="togglePasswordVisibility()">
        <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="passwordForm.get('password').hasError('required')">
        Senha é obrigatória
      </mat-error>
      <mat-error *ngIf="passwordForm.get('password').hasError('minlength')">
        A senha deve ter pelo menos 6 caracteres
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Confirme a Senha</mat-label>
      <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" formControlName="confirmPassword" placeholder="Confirme sua senha" />
      <button mat-icon-button matSuffix type="button" (click)="toggleConfirmPasswordVisibility()">
        <mat-icon>{{ hideConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="passwordForm.get('confirmPassword').hasError('required')">
        Confirmação de senha é obrigatória
      </mat-error>
      <mat-error *ngIf="passwordForm.hasError('passwordMismatch')">
        As senhas não coincidem
      </mat-error>
    </mat-form-field>

    <div class="button-container">
      <button mat-raised-button color="primary" type="submit" [disabled]="passwordForm.invalid">
        Enviar
      </button>
      <button mat-button type="button" (click)="onBack()">Voltar</button>
    </div>
  </form>

</app-account-manager>
